{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "DSB.ToTV.V1.0",
  "LastModifyDateTime": "2017-09-26T18:18:17",
  "description": "The DSB ToTV JSON schema",
  "copyright": "Copyright Â© 2017 The Derivatives Service Bureau (DSB) Limited. All Rights Reserved.",
  "type": "object",
  "properties": {
    "ToTV-record": {
      "type": "object",
      "properties": {
        "Header": {
          "type": "object",
          "properties": {
            "ISIN": {
              "type": "string",
              "pattern": "^[A-Z]{2}[A-Z0-9]{9}[0-9]$",
              "description": "International Securities Identification Number (ISO 6166)"
            },
            "CompleteProcessingDate": {
              "type": "string",
              "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
              "format": "date",
              "description": "The last date when the DSB has complete processing all the records that are available in all sources (YYYY-MM-DD)"
            },
            "LastUpdated": {
              "type": "string",
              "description": "Last date when this record was updated(YYYY-MM-DD)",
              "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
              "format": "date"
            },
            "AssetClass": {
              "type": "string",
              "minLength": 1,
              "enum": [
                "Rates",
                "Foreign_Exchange",
                "Credit",
                "Equity",
                "Commodities",
                "Other",
                "Cash",
                "Debt",
                "Fund",
                "LoanFacility"
              ]
            },
            "InstrumentType": {
              "type": "string",
              "description": "As defined by CFI code: ISO 10962 (2015); Character #1",
              "minLength": 1,
              "enum": [
                "Swap",
                "Option",
                "Forward",
                "Equity",
                "CollectiveInvestmentVehicle",
                "DebtInstrument",
                "Entitlement",
                "Future",
                "Spot",
                "Strategy",
                "Financing",
                "ReferentialInstrument",
                "Other"
              ]
            }
          },
          "required": [
            "ISIN",
            "CompleteProcessingDate",
            "LastUpdated"
          ]
        },
        "DSB-ISIN": {
          "description": "A valid DSB ISIN opject",
          "type": "object"
        },
        "Firds-RefData": {
          "type": "object",
          "properties": {
            "RM": {
              "type": "array",
              "uniqueItems": true,
              "minItems": 1,
              "items": {
                "description": "A valid FiRDS reference data record, reported by a regulated market",
                "type": "object",
                "required": []
              }
            },
            "MTF": {
              "type": "array",
              "uniqueItems": true,
              "minItems": 1,
              "items": {
                "description": "A valid FiRDS reference data record, reported by a multilateral trading facility",
                "type": "object",
                "required": []
              }
            },
            "OTF": {
              "type": "array",
              "uniqueItems": true,
              "minItems": 1,
              "items": {
                "description": "A valid FiRDS reference data record, reported by an organised trading facility",
                "type": "object",
                "required": []
              }
            },
            "SI": {
              "type": "array",
              "uniqueItems": true,
              "minItems": 1,
              "items": {
                "description": "A valid FiRDS reference data record, reported by a systematic internalizer",
                "type": "object",
                "required": []
              }
            },
            "UNKNOWN": {
              "type": "array",
              "uniqueItems": true,
              "minItems": 1,
              "items": {
                "description": "A valid FiRDS reference data record, reported by unknow organization",
                "type": "object",
                "required": []
              }
            }
          },
          "required": []
        },
        "Firds-TransparencyData": {
          "type": "array",
          "uniqueItems": true,
          "minItems": 1,
          "items": {
            "description": "A valid FiRDS transparency record",
            "type": "object",
            "required": []
          }
        },
        "Derived": {
          "type": "object",
          "properties": {
            "ToTV": {
              "description": "The DSB ToTV flag",
              "type": "boolean"
            },
            "ToTV-EarliestEffectiveDate": {
              "description": "The DSB ToTV earliest effective date",
              "type": "string",
              "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
              "format": "date"
            },
            "uToTV": {
              "description": "The DSB uToTV flag",
              "type": "boolean"
            },
            "uToTV-EarliestEffectiveDate": {
              "type": "string",
              "description": "The DSB uToTV earliest effective date",
              "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
              "format": "date"
            }
          },
          "required": []
        }
      },
      "required": [
        "Header",
        "Derived"
      ]
    }
  },
  "required": [
    "ToTV-record"
  ]
}
